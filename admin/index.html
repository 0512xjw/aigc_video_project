<!-- admin/index.html -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>AIGC视频项目管理后台</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .card { border: 1px solid #ddd; padding: 20px; margin: 10px 0; border-radius: 8px; }
        h2 { color: #333; }
        pre { background: #f5f5f5; padding: 10px; border-radius: 4px; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>AIGC视频项目管理后台</h1>

    <div class="card">
        <h2>用户数据</h2>
        <pre id="users-data">加载中...</pre>
    </div>

    <div class="card">
        <h2>直播流数据</h2>
        <pre id="stream-data">加载中...</pre>
    </div>

    <div class="card">
        <h2>日程数据</h2>
        <pre id="schedules-data">加载中...</pre>
    </div>

    <div class="card">
        <h2>辩论数据</h2>
        <pre id="debate-data">加载中...</pre>
    </div>

    <script>
        // 网关地址
        const GATEWAY_URL = 'http://127.0.0.1:3000';

        // 封装请求函数
        async function fetchData(url, elementId) {
            try {
                const response = await fetch(url);
                const data = await response.json();
                document.getElementById(elementId).textContent = JSON.stringify(data, null, 2);
            } catch (error) {
                document.getElementById(elementId).textContent = `加载失败：${error.message}`;
            }
        }

        // 加载各模块数据
        fetchData(`${GATEWAY_URL}/api/users`, 'users-data');
        fetchData(`${GATEWAY_URL}/api/stream`, 'stream-data');
        fetchData(`${GATEWAY_URL}/api/schedules`, 'schedules-data');
        fetchData(`${GATEWAY_URL}/api/debate`, 'debate-data');
    </script>
</body>
</html>